function sortWeekDays(e,t){let o={};if(t===0){o=e.splice(1);return o.concat(e)}else if(t===6){o=e.splice(2);return o.concat(e)}else{return e}}function populateCalendar(){let e=sortWeekDays(moment.weekdaysShort(true),moment.localeData().firstDayOfWeek()),t=moment.monthsShort(),o=moment(),a=moment().endOf("day"),n=o.year(),d=moment(o),l=0;document.querySelectorAll(".days").forEach((e=>{e.querySelectorAll(".day").forEach((e=>{e.dataset.day=l;l++;if(l>6){l=0}}));l++}));$(".months>.month").empty();for(var r=0;r<12;r++){d.set({year:n,date:1,month:r});$(".months>.month:nth-child("+(d.isoWeekday()+1)+"):empty:first").data("month",r).text(t[r]).append(" <span class='badge bg-secondary position-absolute'>"+d.daysInMonth()+"</span>");let e=".days>.day:nth-child("+(d.isoWeekday()+5)+")",o=$(e).data("months");if(o===undefined){$(e).data("months",[r])}else{$(e).data("months",o.concat([r]))}}document.getElementById("date").textContent=o.format("LL");document.getElementById("year").textContent=n;document.getElementById("copyleft-year").textContent=n;document.querySelectorAll(".day").forEach((t=>{t.textContent=e[t.dataset.day];t.classList.toggle("table-danger",t.dataset.day==6)}));$(".month").filter((function(){return $(this).data("month")===o.toObject().months})).addClass("table-active");let c=$(".date").filter((function(){return $(this).text()==o.toObject().date}));c.addClass("table-active").parent().find(".day").each((function(){if($(this).data("months").includes(o.toObject().months)){$(this).addClass("table-active")}}));setTimeout(populateCalendar,a.diff(o)+100)}let verticalPhoneModal;function checkTightSpot(){if(window.innerWidth<468){if(localStorage.getItem("dont-bother-vertical")==null||localStorage.getItem("dont-bother-vertical")=="false"){verticalPhoneModal.show()}}else if(window.innerWidth<564){document.getElementById("one-page-calendar").classList.add("table-sm")}else{let e=function(){verticalPhoneModal.hide()};document.getElementById("vertical-mobile-modal").addEventListener("hidden.bs.modal",e,{once:true});document.getElementById("one-page-calendar").classList.remove("table-sm");e();document.getElementById("vertical-mobile-modal").removeEventListener("hidden.bs.modal",e)}}$(document).ready((function(){if(localStorage.getItem("dark-mode")!==null&&localStorage.getItem("dark-mode")=="false"){document.querySelector("#toggle-darkmode-button .bi-sun-fill").classList.remove("d-none");document.querySelector("#toggle-darkmode-button .bi-moon-fill").classList.add("d-none");document.querySelectorAll("[data-dark-mode]").forEach((e=>{let t=JSON.parse(e.dataset.darkMode);t[1].split(" ").forEach((t=>{e.classList.add(t)}));t[0].split(" ").forEach((t=>{e.classList.remove(t)}))}))}document.getElementById("toggle-darkmode-button").addEventListener("click",(()=>{let e=localStorage.getItem("dark-mode")===null?true:Boolean(localStorage.getItem("dark-mode")=="true");localStorage.setItem("dark-mode",!e);document.querySelectorAll("#toggle-darkmode-button i").forEach((e=>{e.classList.toggle("d-none")}));document.querySelectorAll("[data-dark-mode]").forEach((t=>{let o=JSON.parse(t.dataset.darkMode);o[+e].split(" ").forEach((e=>{t.classList.add(e)}));o[+!e].split(" ").forEach((e=>{t.classList.remove(e)}))}))}));let e=new bootstrap.Modal(document.getElementById("print-modal"));document.getElementById("launch-print-modal-button").addEventListener("click",(()=>{e.show()}));document.getElementById("print-calendar-button").addEventListener("click",(()=>{document.getElementById("print-modal").addEventListener("hidden.bs.modal",(()=>{window.print()}),{once:true})}));let t=new bootstrap.Modal(document.getElementById("cant-print-modal"));document.getElementById("launch-cant-print-modal-button").addEventListener("click",(()=>{t.show()}));document.getElementById("dont-bother-checkbox").checked=false;verticalPhoneModal=new bootstrap.Modal(document.getElementById("vertical-mobile-modal"));checkTightSpot();window.addEventListener("resize",checkTightSpot);document.getElementById("dont-bother-checkbox").addEventListener("change",(e=>{localStorage.setItem("dont-bother-vertical",e.target.checked)}));moment.locale(window.navigator.language);populateCalendar();[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((e=>{new bootstrap.Tooltip(e,{customClass:"d-print-none",trigger:"hover"})}))}));
//# sourceMappingURL=main.min.js.map