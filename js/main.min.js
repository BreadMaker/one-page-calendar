function ready(e){if(document.readyState!="loading"){e()}else{document.addEventListener("DOMContentLoaded",e)}}function sortWeekDays(e,t){let o={};if(t===0){o=e.splice(1);return o.concat(e)}else if(t===6){o=e.splice(2);return o.concat(e)}else{return e}}function populateCalendar(){let e=sortWeekDays(moment.weekdaysShort(true),moment.localeData().firstDayOfWeek()),t=moment.monthsShort(),o=moment(),a=moment().endOf("day"),d=o.year(),n=moment(o),l=0;document.querySelectorAll(".days").forEach((e=>{e.querySelectorAll(".day").forEach((e=>{e.dataset.day=l;l++;if(l>6){l=0}}));l++}));let r=document.querySelectorAll(".months>.month");r.forEach((e=>{while(e.firstChild){e.removeChild(e.firstChild)}}));for(var c=0;c<12;c++){n.set({year:d,date:1,month:c});let e=document.querySelector(".months > .month:nth-child("+(n.isoWeekday()+1)+"):empty");e.dataset.month=c;e.textContent=t[c];let o=document.createElement("span");o.classList.add("badge","bg-secondary","position-absolute");o.appendChild(document.createTextNode(n.daysInMonth()));e.appendChild(o);document.querySelectorAll(".days > .day:nth-child("+(n.isoWeekday()+5)+")").forEach((e=>{let t=e.dataset;if(t.months===undefined){t.months=JSON.stringify([c])}else{t.months=JSON.stringify(JSON.parse(t.months).concat([c]))}}))}document.getElementById("date").textContent=o.format("LL");document.getElementById("year").textContent=d;document.getElementById("copyleft-year").textContent=d;document.querySelectorAll(".day").forEach((t=>{t.textContent=e[t.dataset.day];t.classList.toggle("table-danger",t.dataset.day==6)}));document.querySelectorAll(".month").forEach((e=>{if(e.dataset.month==o.toObject().months)e.classList.add("table-active")}));let s=document.evaluate("//td[text()='"+o.toObject().date+"']",document,null,XPathResult.ANY_TYPE,null).iterateNext();s.classList.add("table-active");s.parentNode.querySelectorAll(".day").forEach((e=>{if(e.dataset.months!==undefined&&JSON.parse(e.dataset.months).includes(o.toObject().months))e.classList.add("table-active")}));setTimeout(populateCalendar,a.diff(o)+100)}let verticalPhoneModal;function checkTightSpot(){if(window.innerWidth<468){if(localStorage.getItem("dont-bother-vertical")==null||localStorage.getItem("dont-bother-vertical")=="false"){verticalPhoneModal.show()}}else if(window.innerWidth<564){document.getElementById("one-page-calendar").classList.add("table-sm")}else{let e=()=>{verticalPhoneModal.hide()};document.getElementById("vertical-mobile-modal").addEventListener("hidden.bs.modal",e,{once:true});document.getElementById("one-page-calendar").classList.remove("table-sm");e();document.getElementById("vertical-mobile-modal").removeEventListener("hidden.bs.modal",e)}}ready((()=>{if(localStorage.getItem("dark-mode")!==null&&localStorage.getItem("dark-mode")=="false"){document.querySelector("#toggle-darkmode-button .bi-sun-fill").classList.remove("d-none");document.querySelector("#toggle-darkmode-button .bi-moon-fill").classList.add("d-none");document.querySelectorAll("[data-dark-mode]").forEach((e=>{let t=JSON.parse(e.dataset.darkMode);t[1].split(" ").forEach((t=>{e.classList.add(t)}));t[0].split(" ").forEach((t=>{e.classList.remove(t)}))}))}document.getElementById("toggle-darkmode-button").addEventListener("click",(()=>{let e=localStorage.getItem("dark-mode")===null?true:Boolean(localStorage.getItem("dark-mode")=="true");localStorage.setItem("dark-mode",!e);document.querySelectorAll("#toggle-darkmode-button i").forEach((e=>{e.classList.toggle("d-none")}));document.querySelectorAll("[data-dark-mode]").forEach((t=>{let o=JSON.parse(t.dataset.darkMode);o[+e].split(" ").forEach((e=>{t.classList.add(e)}));o[+!e].split(" ").forEach((e=>{t.classList.remove(e)}))}))}));let e=new bootstrap.Modal(document.getElementById("print-modal"));document.getElementById("launch-print-modal-button").addEventListener("click",(()=>{e.show()}));document.getElementById("print-calendar-button").addEventListener("click",(()=>{document.getElementById("print-modal").addEventListener("hidden.bs.modal",(()=>{window.print()}),{once:true})}));let t=new bootstrap.Modal(document.getElementById("cant-print-modal"));document.getElementById("launch-cant-print-modal-button").addEventListener("click",(()=>{t.show()}));document.getElementById("dont-bother-checkbox").checked=false;verticalPhoneModal=new bootstrap.Modal(document.getElementById("vertical-mobile-modal"));checkTightSpot();window.addEventListener("resize",checkTightSpot);document.getElementById("dont-bother-checkbox").addEventListener("change",(e=>{localStorage.setItem("dont-bother-vertical",e.target.checked)}));moment.locale(window.navigator.language);populateCalendar();[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((e=>{new bootstrap.Tooltip(e,{customClass:"d-print-none",trigger:"hover"})}))}));
//# sourceMappingURL=main.min.js.map