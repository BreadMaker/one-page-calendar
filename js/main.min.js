function ready(e){if(document.readyState!="loading"){e()}else{document.addEventListener("DOMContentLoaded",e)}}function sortWeekDays(e,t){let a={};if(t===0){a=e.splice(1);return a.concat(e)}else if(t===6){a=e.splice(2);return a.concat(e)}else{return e}}function populateCalendar(){let e=sortWeekDays(moment.weekdaysShort(true),moment.localeData().firstDayOfWeek()),t=moment.monthsShort(),a=moment(),o=moment().endOf("day"),l=a.year(),n=moment(a),d=0;document.querySelectorAll(".days").forEach(e=>{e.querySelectorAll(".day").forEach(e=>{e.dataset.day=d;d++;if(d>6){d=0}});d++});let c=document.querySelectorAll(".months>.month");c.forEach(e=>{while(e.firstChild){e.removeChild(e.firstChild)}});for(var r=0;r<12;r++){n.set({year:l,date:1,month:r});let e=document.querySelector(".months > .month:nth-child("+(n.isoWeekday()+1)+"):empty");e.dataset.month=r;e.textContent=t[r];let a=document.createElement("span");a.classList.add("badge","bg-secondary","position-absolute");a.appendChild(document.createTextNode(n.daysInMonth()));e.appendChild(a);document.querySelectorAll(".days > .day:nth-child("+(n.isoWeekday()+5)+")").forEach(e=>{let t=e.dataset;if(t.months===undefined){t.months=JSON.stringify([r])}else{t.months=JSON.stringify(JSON.parse(t.months).concat([r]))}})}document.getElementById("date").textContent=a.format("LL");document.getElementById("year").textContent=l;document.getElementById("copyleft-year").textContent=l;document.querySelectorAll(".day").forEach(t=>{t.textContent=e[t.dataset.day];t.classList.toggle("table-danger",t.dataset.day==6)});document.querySelectorAll(".month").forEach(e=>{if(e.dataset.month==a.toObject().months)e.classList.add("table-active")});let s=document.evaluate("//td[text()='"+a.toObject().date+"']",document,null,XPathResult.ANY_TYPE,null).iterateNext();s.classList.add("table-active");s.parentNode.querySelectorAll(".day").forEach(e=>{if(e.dataset.months!==undefined&&JSON.parse(e.dataset.months).includes(a.toObject().months))e.classList.add("table-active")});setTimeout(populateCalendar,o.diff(a)+100)}let verticalPhoneModal;function checkTightSpot(){if(window.innerWidth<468){if(localStorage.getItem("dont-bother-vertical")==null||localStorage.getItem("dont-bother-vertical")=="false"){verticalPhoneModal.show()}}else if(window.innerWidth<564){document.getElementById("one-page-calendar").classList.add("table-sm")}else{let e=()=>{verticalPhoneModal.hide()};document.getElementById("vertical-mobile-modal").addEventListener("hidden.bs.modal",e,{once:true});document.getElementById("one-page-calendar").classList.remove("table-sm");e();document.getElementById("vertical-mobile-modal").removeEventListener("hidden.bs.modal",e)}}function toggleLightDarkClasses(){document.body.querySelectorAll('[class*="-light"], [class*="-dark"]').forEach(e=>{let t=e.className;t=t.replace(/\b([^\s]+?)-(light|dark)\b/g,(e,t,a)=>t+(a==="light"?"-dark":"-light"));e.className=t})}ready(()=>{if(localStorage.getItem("dark-mode")===null)localStorage.setItem("dark-mode","dark");else if(localStorage.getItem("dark-mode")==="light"){document.querySelectorAll("[data-bs-theme-value]").forEach(e=>e.classList.toggle("d-none"));document.documentElement.setAttribute("data-bs-theme","light");toggleLightDarkClasses()}document.querySelectorAll("[data-bs-theme-value]").forEach(e=>{e.addEventListener("click",()=>{document.documentElement.setAttribute("data-bs-theme",e.getAttribute("data-bs-theme-value"));localStorage.setItem("dark-mode",e.getAttribute("data-bs-theme-value"));document.querySelectorAll("[data-bs-theme-value]").forEach(e=>e.classList.toggle("d-none"));toggleLightDarkClasses()})});let e=new bootstrap.Modal(document.getElementById("print-modal"));document.getElementById("launch-print-modal-button").addEventListener("click",()=>{e.show()});document.getElementById("print-calendar-button").addEventListener("click",()=>{document.getElementById("print-modal").addEventListener("hidden.bs.modal",()=>{window.print()},{once:true})});document.getElementById("dont-bother-checkbox").checked=false;verticalPhoneModal=new bootstrap.Modal(document.getElementById("vertical-mobile-modal"));checkTightSpot();window.addEventListener("resize",checkTightSpot);document.getElementById("dont-bother-checkbox").addEventListener("change",e=>{localStorage.setItem("dont-bother-vertical",e.target.checked)});moment.locale(window.navigator.language);populateCalendar();[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map(e=>{new bootstrap.Tooltip(e,{customClass:"d-print-none",trigger:"hover"})})});
//# sourceMappingURL=main.min.js.map